{"version":3,"sources":["plugins/documentation.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;qBAEK,OAAO;;;;sBACN,QAAQ;;;;6BACD,gBAAgB;;;;+BACd,mBAAmB;;;;4BACzB,kBAAkB;;AAExC,IAAM,QAAQ,GAAG,SAAX,QAAQ,CAAI,MAAM,EAAE,OAAO,EAAE,IAAI,EAAK;AAC1C,MAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AACzC,QAAM,aAAa,GAAG;AACpB,iBAAW,EAAE,OAAO,CAAC,MAAM,CAAC,UAAU;AACtC,UAAI,EAAE,OAAO,CAAC,IAAI;AAClB,UAAI,EAAE,OAAO,CAAC,IAAI;AAClB,UAAI,EAAE,KAAK;KACZ,CAAC;;AAEF,QAAM,eAAe,GAAG;AACtB,WAAK,EAAE,OAAO,CAAC,KAAK;AACpB,UAAI,EAAE,OAAO;AACb,mBAAa,EAAE;AACb,aAAK,EAAE,eAAe;AACtB,aAAK,EAAE,QAAQ;AACf,mBAAW,EAAE,uBAAuB;OACrC;AACD,oBAAc,EAAE;AACd,oBAAY,EAAE,IAAI;OACnB;AACD,UAAI,EAAE,KAAK;KACZ,CAAC;;AAEF,UAAM,CAAC,QAAQ,CAAC,0CAEN;AACN,cAAQ,4BAAe;AACvB,aAAO,EAAE,aAAa;KACvB,EAAE;AACD,cAAQ,8BAAiB;AACzB,aAAO,EAAE,eAAe;KACzB,CACF,EAAE,UAAA,GAAG,EAAI;AACR,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC;KAClB,CAAC,CAAC;;AAEH,UAAM,CAAC,KAAK,CAAC;AACX,YAAM,EAAE,KAAK;AACb,UAAI,EAAE,GAAG;AACT,YAAM,EAAE;AACN,YAAI,EAAE,KAAK;AACX,eAAO,EAAE,iBAAU,OAAO,EAAE,KAAK,EAAE;AACjC,eAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;SACzB;OACF;KACF,CAAC,CAAC;GACJ,MAAM;AACL,QAAI,EAAE,CAAC;GACR;CACF,CAAC;;AAEF,QAAQ,CAAC,UAAU,GAAG;AACpB,MAAI,EAAE,eAAe;AACrB,SAAO,EAAE,4BAAS;CACnB,CAAC;;qBAEa,QAAQ","file":"documentation.js","sourcesContent":["'use strict';\n\nimport Inert from 'inert';\nimport Vision from 'vision';\nimport HapiSwaggered from 'hapi-swaggered';\nimport HapiSwaggeredUI from 'hapi-swaggered-ui';\nimport {version} from '../utils/package';\n\nconst register = (server, options, next) => {\n  if (process.env.NODE_ENV !== 'production') {\n    const optsSwaggered = {\n      stripPrefix: options.config.routesPath,\n      tags: options.tags,\n      info: options.info,\n      auth: false\n    };\n\n    const optsSwaggeredUI = {\n      title: options.title,\n      path: '/docs',\n      authorization: {\n        field: 'authorization',\n        scope: 'header', // header works as well\n        placeholder: 'Enter your token here'\n      },\n      swaggerOptions: {\n        validatorUrl: null\n      },\n      auth: false\n    };\n\n    server.register([\n      Inert,\n      Vision, {\n        register: HapiSwaggered,\n        options: optsSwaggered\n      }, {\n        register: HapiSwaggeredUI,\n        options: optsSwaggeredUI\n      }\n    ], err => {\n      return next(err);\n    });\n\n    server.route({\n      method: 'GET',\n      path: '/',\n      config: {\n        auth: false,\n        handler: function (request, reply) {\n          reply.redirect('/docs');\n        }\n      }\n    });\n  } else {\n    next();\n  }\n};\n\nregister.attributes = {\n  name: 'documentation',\n  version: version()\n};\n\nexport default register;\n"]}